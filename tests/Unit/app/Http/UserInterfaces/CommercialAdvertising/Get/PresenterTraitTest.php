<?php

namespace Tests\Unit\App\Http\UserInterfaces\CommercialAdvertising\Get;

use App\Http\UserInterfaces\CommercialAdvertising\Get\PresenterTrait;
use Tests\TestCase;

class PresenterTraitTest extends TestCase
{
    use PresenterTrait;

    private $inputBoundary;

    private $target;

    public function setUp(): void
    {
        parent::setUp();
    }

    /**
     * @test
     * @dataProvider hashExistsDataProvider
     * @param mixed $hash
     * @param mixed $channel
     * @param mixed $dow
     * @param mixed $hour
     * @param mixed $expected
     */
    public function hashExistsTest($hash, $channel, $dow, $hour, $expected): void
    {
        $actual = $this->hashExists($hash, $channel, $dow, $hour);

        $this->assertSame($expected, $actual);
    }

    public function hashExistsDataProvider()
    {
        return [
            [[], '', '', '', false],
            [['channel' => ['test']], 'channel', 'dow', 'hour', false],
            [['channel' => ['dow' => ['test']]], 'channel', 'dow', 'hour', false],
            [['channel' => ['dow' => ['hour' => 'test']]], 'channel', 'dow', 'hour', true],
        ];
    }

    /**
     * @test
     * @dataProvider createTableDataDataProvider
     * @param $data
     * @param $channels
     * @param $csvFlag
     * @param $expected
     */
    public function createTableDataTest($data, $channels, $csvFlag, $expected): void
    {
        $actual = $this->createTableData($data, $channels, $csvFlag);

        $this->assertSame($expected, $actual);
    }

    public function createTableDataDataProvider()
    {
        return [
            [[], [], '0', ['list' => [
                ['hour' => '05'],
                ['hour' => '06'],
                ['hour' => '07'],
                ['hour' => '08'],
                ['hour' => '09'],
                ['hour' => '10'],
                ['hour' => '11'],
                ['hour' => '12'],
                ['hour' => '13'],
                ['hour' => '14'],
                ['hour' => '15'],
                ['hour' => '16'],
                ['hour' => '17'],
                ['hour' => '18'],
                ['hour' => '19'],
                ['hour' => '20'],
                ['hour' => '21'],
                ['hour' => '22'],
                ['hour' => '23'],
                ['hour' => '24'],
                ['hour' => '25'],
                ['hour' => '26'],
                ['hour' => '27'],
                ['hour' => '28'],
            ],
                'aggregate' => [], ]],
            [
                [['channel_id' => 1, 'dow' => 1, 'hh' => 10, 'count' => 1], ['channel_id' => 1, 'dow' => 1, 'hh' => 11, 'count' => 2]],
                [1, 2],
                '1',
                [
                    'list' => [
                        ['hour' => '05:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '06:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '07:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '08:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '09:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '10:00', 11 => 1, 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '11:00', 11 => 2, 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '12:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '13:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '14:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '15:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '16:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '17:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '18:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '19:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '20:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '21:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '22:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '23:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '24:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '25:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '26:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '27:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['hour' => '28:00', 11 => '', 12 => '', 13 => '', 14 => '', 15 => '', 16 => '', 10 => '', 17 => '', 21 => '', 22 => '', 23 => '', 24 => '', 25 => '', 26 => '', 20 => '', 27 => ''],
                        ['Chè¨ˆ', 3, '', '', '', '', '', '', '', '0', '', '', '', '', '', '', ''],
                    ],
                    'aggregate' => [1 => 3],
                ],
            ],
        ];
    }
}
